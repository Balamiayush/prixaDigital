// import React from 'react'
// import Countup from '../components/Countup'
// import { useGSAP } from '@gsap/react'
// import gsap from 'gsap'

// const Loader = () => {
//   useGSAP(()=>{
//     gsap.to(".loader",{
//       duration:0.8,
//       delay:5,
//       top:"-100%",
//       ease:"power4.out"

//     })
//   })
//   return (
//     <div className='w-full loader flex-col h-screen bg-black fixed flex top-0 left-0 items-center justify-between lg:py-20 text-white z-[10000]'>
// <svg className='svggg' width="746" height="152" viewBox="0 0 746 152" fill="none" xmlns="http://www.w3.org/2000/svg">
// <g clip-path="url(#clip0_297_2)">
// <path d="M5.71 79.68V110.59H0V33.5H19.96C28.46 33.5 34.96 35.34 39.46 39.01C43.96 42.68 46.21 48.05 46.21 55.11C46.21 62.17 43.7 68.17 38.68 72.77C33.66 77.38 26.63 79.68 17.6 79.68H5.71ZM5.71 38.39V74.79H17.48C24.94 74.79 30.61 73.13 34.5 69.82C38.38 66.51 40.33 61.82 40.33 55.76C40.33 44.18 33.2 38.4 18.93 38.4H5.71V38.39Z" fill="white"/>
// <path d="M106.59 110.59L95.57 88.01C93.3 83.35 91.03 80.22 88.76 78.63C86.49 77.04 83.65 76.24 80.22 76.24H69.95V110.59H64.24V33.5H87.2C94.51 33.5 100.24 35.34 104.42 39.01C108.59 42.68 110.68 47.53 110.68 53.55C110.68 59.11 108.97 63.75 105.55 67.47C102.13 71.2 97.34 73.6 91.19 74.67V74.89C94.46 76.11 97.65 79.82 100.76 86.02L113.05 110.59H106.59ZM69.97 38.39V71.4H84.22C90.53 71.4 95.53 69.86 99.25 66.78C102.96 63.7 104.82 59.47 104.82 54.09C104.82 49.18 103.15 45.34 99.8 42.56C96.45 39.78 91.67 38.39 85.44 38.39H69.98H69.97Z" fill="white"/>
// <path d="M129.84 110.59V33.5H135.55V110.59H129.84Z" fill="white"/>
// <path d="M281.7 110.59L272.24 86.61H236.36L226.9 110.59H220.61L251.81 33.5H257.23L288.09 110.59H281.69H281.7ZM256.32 46.08C255.9 45 255.55 43.95 255.28 42.91C255.01 42.01 254.72 41.12 254.41 40.22H254.18C253.53 42.59 252.89 44.5 252.28 45.97L238.38 81.72H270.28L256.32 46.08Z" fill="white"/>
// <path d="M155.7 41.3099H168.68L186.77 66.1199L216.21 22.7599H230.59L193.14 76.3199L215.75 107.16H204.16L187.46 84.8999L154.77 131.97H141.09L180.74 74.9299L155.7 41.3099Z" fill="white"/>
// <path d="M219.46 17.89L217.6 20.9H231.98L233.37 17.89" fill="white"/>
// <path d="M223.17 12.79L221.31 15.8H235.69L237.08 12.79" fill="white"/>
// <path d="M228.04 7.21997L226.18 10.23H238.47V7.21997H228.04Z" fill="white"/>
// <path d="M141.09 133.13L142.02 135.91H152.22L153.84 133.13H141.09Z" fill="white"/>
// <path d="M372.49 31.7668C385.884 31.7668 396.192 35.2657 403.416 42.2635C410.715 49.2613 414.364 59.0055 414.364 71.4963C414.364 83.987 410.715 93.6936 403.416 100.616C396.192 107.539 385.884 111 372.49 111H350.255V31.7668H372.49ZM372.49 106.711C384.454 106.711 393.559 103.626 399.804 97.4559C406.05 91.2105 409.172 82.5573 409.172 71.4963C409.172 60.36 406.05 51.6691 399.804 45.4238C393.559 39.1784 384.454 36.0557 372.49 36.0557H355.334V106.711H372.49ZM434.805 31.7668V111H429.726V31.7668H434.805ZM518.548 55.1304C516.291 49.186 512.529 44.4456 507.261 40.9091C502.069 37.3725 495.899 35.6043 488.751 35.6043C482.506 35.6043 476.862 37.0716 471.821 40.0061C466.779 42.9407 462.791 47.1168 459.857 52.5345C456.922 57.9521 455.455 64.2727 455.455 71.4963C455.455 78.7198 456.922 85.0404 459.857 90.4581C462.791 95.8757 466.779 100.052 471.821 102.986C476.862 105.846 482.506 107.275 488.751 107.275C494.771 107.275 500.226 105.921 505.117 103.212C510.008 100.503 513.921 96.6658 516.855 91.6996C519.79 86.6582 521.407 80.789 521.708 74.0922H486.381V69.8032H526.9V73.1893C526.675 80.5633 524.906 87.1849 521.596 93.054C518.285 98.9231 513.77 103.513 508.051 106.824C502.333 110.135 495.899 111.79 488.751 111.79C481.452 111.79 474.868 110.097 468.999 106.711C463.13 103.25 458.54 98.4717 455.229 92.3768C451.919 86.2067 450.263 79.2465 450.263 71.4963C450.263 63.6707 451.919 56.7106 455.229 50.6157C458.54 44.4456 463.13 39.6675 468.999 36.2815C474.868 32.8202 481.452 31.0896 488.751 31.0896C497.254 31.0896 504.59 33.2341 510.76 37.523C517.006 41.7368 521.558 47.6059 524.417 55.1304H518.548ZM547.342 31.7668V111H542.263V31.7668H547.342ZM609.753 31.7668V36.0557H587.18V111H582.101V36.0557H559.527V31.7668H609.753ZM666.765 90.6838H629.18L621.618 111H616.087L645.207 33.5727H650.85L679.857 111H674.327L666.765 90.6838ZM665.185 86.3948L648.029 40.2319L630.76 86.3948H665.185ZM697.685 106.711H727.144V111H692.606V31.7668H697.685V106.711Z" fill="white"/>
// <path d="M328.78 0H324.72V149.58H328.78V0Z" fill="white"/>
// </g>
// <defs>
// <clipPath id="clip0_297_2">
// <rect width="746" height="152" fill="white"/>
// </clipPath>
// </defs>
// </svg>
// <Countup
//   from={0}
//   to={100}
//   separator=","
//   direction="up"
//   duration={3}
//   className="count-up-text  font-bold lg:text-6xl"
// />
// {/* hello */}
//     </div>
//   )
// }

// export default Loader
import React, { useEffect, useRef } from 'react';
import '../css/loader.css';
import { useGSAP } from '@gsap/react';
import gsap from 'gsap';

const Loader = () => {
  const counter3Ref = useRef(null);

  useGSAP(() => {
    const counter3 = counter3Ref.current;

    if (counter3) {
      // Clear previous children to avoid duplication during re-renders
      counter3.innerHTML = '';

      // Append digits 0â€“9 twice, then one final 0
      for (let i = 0; i < 2; i++) {
        for (let j = 0; j < 10; j++) {
          const div = document.createElement('div');
          div.className = 'num';
          div.textContent = j;
          counter3.appendChild(div);
        }
      }
      const finalDiv = document.createElement('div');
      finalDiv.className = 'num';
      finalDiv.textContent = '0';
      counter3.appendChild(finalDiv);
    }

    function animate(counter, duration, delay = 0) {
      const numHeight = counter?.querySelector('.num')?.clientHeight;
      const totalDistance =
        (counter?.querySelectorAll('.num').length - 1) * numHeight;

      gsap.to(counter, {
        y: -totalDistance,
        duration,
        delay,
        ease: 'power2.inOut',
      });
    }

    animate(counter3Ref.current, 5);
    animate(document.querySelector('.counter-2'), 6);
    animate(document.querySelector('.counter-1'), 2, 4);

    gsap.to('.digit', {
      top: '-150px',
      stagger: {
        amount: 0.25,
      },
      delay: 6,
      duration: 1,
      ease: 'power4.inOut',
    });

    gsap.from('.loader-1', {
      width: 0,
      duration: 6,
      ease: 'power2.inOut',
    });

    gsap.from('.loader-2', {
      width: 0,
      duration: 6,
      delay: 1.9,
      ease: 'power2.inOut',
    });

    gsap.to('.loader', {
      background: 'none',
      delay: 6,
      duration: 0.1,
    });

    gsap.to('.loader-1', {
      duration: 0.5,
      delay: 6,
    });

    gsap.to('.loader-2', {
      // x: -75,
      // y: 75,
      duration: 0.5,
      delay: 6,
    });

    gsap.to('.loader', {
      scale: 40,
      duration: 1,
      delay: 7,
      ease: 'power2.inOut',
    });

    gsap.to('.loader', {
      duration: 1,
      delay: 7,
      ease: 'power2.inOut',
    });

    gsap.to('.loading-screen', {
      opacity: 0,
      duration: 0.5,
      delay: 7.5,
      ease: 'power1.inOut',
    });

    // gsap.to('h1', {
    //   delay: 7,
    //   y: -80,
    //   ease: 'power4.inOut',
    //   duration: 1.5,
    //   stagger: {
    //     amount: 0.1,
    //   },
    // });
  });

  return (
    <div className="loading-screen">
      <div className="loader">
        <div className="loader-1 bar"></div>
        <div className="loader-2 bar"></div>
      </div>

      <div className="counter">
        <div className="counter-1 digit">
          <div className="num">0</div>
          <div className="num num1offset1">1</div>
        </div>
        <div className="counter-2 digit">
          <div className="num">0</div>
          <div className="num num1offset2">1</div>
          <div className="num">2</div>
          <div className="num">3</div>
          <div className="num">4</div>
          <div className="num">5</div>
          <div className="num">6</div>
          <div className="num">7</div>
          <div className="num">8</div>
          <div className="num">9</div>
          <div className="num">0</div>
        </div>
        <div className="counter-3 digit" ref={counter3Ref}></div>
      </div>
       <svg className='svggg absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/1 ' width="400" height="152" viewBox="0 0 746 152" fill="none" xmlns="http://www.w3.org/2000/svg">
 <g clip-path="url(#clip0_297_2)">
 <path d="M5.71 79.68V110.59H0V33.5H19.96C28.46 33.5 34.96 35.34 39.46 39.01C43.96 42.68 46.21 48.05 46.21 55.11C46.21 62.17 43.7 68.17 38.68 72.77C33.66 77.38 26.63 79.68 17.6 79.68H5.71ZM5.71 38.39V74.79H17.48C24.94 74.79 30.61 73.13 34.5 69.82C38.38 66.51 40.33 61.82 40.33 55.76C40.33 44.18 33.2 38.4 18.93 38.4H5.71V38.39Z" fill="white"/>
 <path d="M106.59 110.59L95.57 88.01C93.3 83.35 91.03 80.22 88.76 78.63C86.49 77.04 83.65 76.24 80.22 76.24H69.95V110.59H64.24V33.5H87.2C94.51 33.5 100.24 35.34 104.42 39.01C108.59 42.68 110.68 47.53 110.68 53.55C110.68 59.11 108.97 63.75 105.55 67.47C102.13 71.2 97.34 73.6 91.19 74.67V74.89C94.46 76.11 97.65 79.82 100.76 86.02L113.05 110.59H106.59ZM69.97 38.39V71.4H84.22C90.53 71.4 95.53 69.86 99.25 66.78C102.96 63.7 104.82 59.47 104.82 54.09C104.82 49.18 103.15 45.34 99.8 42.56C96.45 39.78 91.67 38.39 85.44 38.39H69.98H69.97Z" fill="white"/>
 <path d="M129.84 110.59V33.5H135.55V110.59H129.84Z" fill="white"/>
 <path d="M281.7 110.59L272.24 86.61H236.36L226.9 110.59H220.61L251.81 33.5H257.23L288.09 110.59H281.69H281.7ZM256.32 46.08C255.9 45 255.55 43.95 255.28 42.91C255.01 42.01 254.72 41.12 254.41 40.22H254.18C253.53 42.59 252.89 44.5 252.28 45.97L238.38 81.72H270.28L256.32 46.08Z" fill="white"/>
 <path d="M155.7 41.3099H168.68L186.77 66.1199L216.21 22.7599H230.59L193.14 76.3199L215.75 107.16H204.16L187.46 84.8999L154.77 131.97H141.09L180.74 74.9299L155.7 41.3099Z" fill="white"/>
 <path d="M219.46 17.89L217.6 20.9H231.98L233.37 17.89" fill="white"/>
 <path d="M223.17 12.79L221.31 15.8H235.69L237.08 12.79" fill="white"/>
 <path d="M228.04 7.21997L226.18 10.23H238.47V7.21997H228.04Z" fill="white"/>
 <path d="M141.09 133.13L142.02 135.91H152.22L153.84 133.13H141.09Z" fill="white"/>
 <path d="M372.49 31.7668C385.884 31.7668 396.192 35.2657 403.416 42.2635C410.715 49.2613 414.364 59.0055 414.364 71.4963C414.364 83.987 410.715 93.6936 403.416 100.616C396.192 107.539 385.884 111 372.49 111H350.255V31.7668H372.49ZM372.49 106.711C384.454 106.711 393.559 103.626 399.804 97.4559C406.05 91.2105 409.172 82.5573 409.172 71.4963C409.172 60.36 406.05 51.6691 399.804 45.4238C393.559 39.1784 384.454 36.0557 372.49 36.0557H355.334V106.711H372.49ZM434.805 31.7668V111H429.726V31.7668H434.805ZM518.548 55.1304C516.291 49.186 512.529 44.4456 507.261 40.9091C502.069 37.3725 495.899 35.6043 488.751 35.6043C482.506 35.6043 476.862 37.0716 471.821 40.0061C466.779 42.9407 462.791 47.1168 459.857 52.5345C456.922 57.9521 455.455 64.2727 455.455 71.4963C455.455 78.7198 456.922 85.0404 459.857 90.4581C462.791 95.8757 466.779 100.052 471.821 102.986C476.862 105.846 482.506 107.275 488.751 107.275C494.771 107.275 500.226 105.921 505.117 103.212C510.008 100.503 513.921 96.6658 516.855 91.6996C519.79 86.6582 521.407 80.789 521.708 74.0922H486.381V69.8032H526.9V73.1893C526.675 80.5633 524.906 87.1849 521.596 93.054C518.285 98.9231 513.77 103.513 508.051 106.824C502.333 110.135 495.899 111.79 488.751 111.79C481.452 111.79 474.868 110.097 468.999 106.711C463.13 103.25 458.54 98.4717 455.229 92.3768C451.919 86.2067 450.263 79.2465 450.263 71.4963C450.263 63.6707 451.919 56.7106 455.229 50.6157C458.54 44.4456 463.13 39.6675 468.999 36.2815C474.868 32.8202 481.452 31.0896 488.751 31.0896C497.254 31.0896 504.59 33.2341 510.76 37.523C517.006 41.7368 521.558 47.6059 524.417 55.1304H518.548ZM547.342 31.7668V111H542.263V31.7668H547.342ZM609.753 31.7668V36.0557H587.18V111H582.101V36.0557H559.527V31.7668H609.753ZM666.765 90.6838H629.18L621.618 111H616.087L645.207 33.5727H650.85L679.857 111H674.327L666.765 90.6838ZM665.185 86.3948L648.029 40.2319L630.76 86.3948H665.185ZM697.685 106.711H727.144V111H692.606V31.7668H697.685V106.711Z" fill="white"/>
 <path d="M328.78 0H324.72V149.58H328.78V0Z" fill="white"/>
 </g>
 <defs>
 <clipPath id="clip0_297_2">
 <rect width="746" height="152" fill="white"/>
 </clipPath>
 </defs>
 </svg>
    </div>
  );
};

export default Loader;
